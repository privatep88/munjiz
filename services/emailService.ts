import { Task, PRIORITY_LABELS, STATUS_LABELS } from '../types';

// ุฎุฏูุฉ ูุญุงูุงุฉ ุฅุฑุณุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ุชููุงุฆู)
export const sendEmailReminder = async (
  email: string,
  userName: string,
  taskTitle: string,
  daysLeft: number
): Promise<boolean> => {
  console.log(`๐ [Auto] ุฌุงุฑู ุงูุงุชุตุงู ุจุฎุงุฏู ุงูุจุฑูุฏ ูุฅุฑุณุงู ุชุฐููุฑ ุชููุงุฆู ุฅูู ${email}...`);
  
  await new Promise(resolve => setTimeout(resolve, 1500));

  console.log(`
    โ [ุชู ุฅุฑุณุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุงูุชููุงุฆู ุจูุฌุงุญ]
    ====================================================
    ุงููุณุชูู: ${email}
    ุงูููุถูุน: ุชุฐููุฑ ุชููุงุฆู: ูููุฉ "${taskTitle}" ุชุณุชุญู ุงูุชุณููู ูุฑูุจุงู
    ====================================================
    ูุฑุญุจุงู ${userName}ุ
    
    ูุฐุง ุชุฐููุฑ ุชููุงุฆู ูู ูุธุงู "ุชุทุจูู ููุฌุฒ".
    ููุฏ ุชุฐููุฑู ุจุฃู ุงููููุฉ: "${taskTitle}"
    ุชุณุชุญู ุงูุชุณููู ุฎูุงู: ${daysLeft} ุฃูุงู.
    
    ูุฑุฌู ุงูุนูู ุนูู ุฅูุฌุงุฒูุง ูู ุงูููุช ุงููุญุฏุฏ.
    ====================================================
  `);

  return true;
};

// ุฎุฏูุฉ ุฅุฑุณุงู ุชูุงุตูู ุงููููุฉ ูุฏููุงู
export const sendManualTaskDetails = async (
  email: string,
  userName: string,
  task: Task
): Promise<boolean> => {
  console.log(`๐ [Manual] ุฌุงุฑู ุฅุฑุณุงู ุชูุงุตูู ุงููููุฉ ุฅูู ${email}...`);
  
  await new Promise(resolve => setTimeout(resolve, 1000));

  console.log(`
    โ [ุชู ุฅุฑุณุงู ุชูุงุตูู ุงููููุฉ ุจูุฌุงุญ]
    ====================================================
    ุงููุณุชูู: ${email}
    ุงูููุถูุน: ุชูุงุตูู ุงููููุฉ: ${task.title}
    ====================================================
    ูุฑุญุจุงู ${userName}ุ
    
    ุจูุงุกู ุนูู ุทูุจูุ ุฅููู ุชูุงุตูู ุงููููุฉ:
    
    - ุงูุนููุงู: ${task.title}
    - ุงูุญุงูุฉ: ${STATUS_LABELS[task.status]}
    - ุงูุฃููููุฉ: ${PRIORITY_LABELS[task.priority]}
    - ุชุงุฑูุฎ ุงูุจุฏุก: ${task.startDate}
    - ุชุงุฑูุฎ ุงูุงุณุชุญูุงู: ${task.dueDate}
    
    ุงูุชูุงุตูู:
    ${task.description || 'ูุง ุชูุฌุฏ ุชูุงุตูู ุฅุถุงููุฉ'}
    
    ุฑุงุจุท ุงููููุฉ: https://munjiz.app/tasks/${task.id}
    ====================================================
  `);

  return true;
};